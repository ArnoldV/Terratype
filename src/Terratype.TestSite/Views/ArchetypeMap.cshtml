@inherits Umbraco.Web.Mvc.UmbracoTemplatePage<ContentModels.ArchetypeMap>
@using ContentModels = Umbraco.Web.PublishedContentModels;
@using Terratype;
@{
    Layout = null;
}

<h1>
    @Model.Content.Name
</h1>

<div id="pretent-accordion" style="display:none;">

    @foreach (var record in Model.Content.Archetype)
    {
        var name = record.GetValue<string>("name");
        var map = record.GetValue<Terratype.Models.Model>("location");

        @Html.Terratype(map, 400, 
            @<text>
                @name is at @map.Position
            </text>
        )

        <br />
    }
</div>


<button onclick="var a = document.getElementById('pretent-accordion');a.style.display = (a.style.display=='none') ? 'block':'none'">Show/Hide Map</button>
